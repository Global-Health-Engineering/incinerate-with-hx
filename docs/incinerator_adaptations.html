<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.545">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>docs - Adaptations to incinerators</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script defer="" data-domain="global-health-engineering.github.io/incinerate-with-hx/" src="https://plausible.io/js/script.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">docs</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./incinerator_adaptations.html" aria-current="page"> 
<span class="menu-text">Adaptations to Incinerators</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./hx.html"> 
<span class="menu-text">Heat Exchanger</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./wst.html"> 
<span class="menu-text">Waste Sorting Table and Lift</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="mailto:ghe@mavt.ethz.ch?subject=Incinerator design"> <i class="bi bi-envelope-at" role="img" aria-label="Email">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Global-Health-Engineering/incinerate-with-hx"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://matrix.to/#/#ghe-open:staffchat.ethz.ch"> <i class="bi bi-chat-left-dots" role="img" aria-label="Matrix">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#sec-tech-adapt" id="toc-sec-tech-adapt" class="nav-link active" data-scroll-target="#sec-tech-adapt"><span class="header-section-number">1</span> Summary of Main Technical Adaptations</a></li>
  <li><a href="#sec-costs" id="toc-sec-costs" class="nav-link" data-scroll-target="#sec-costs"><span class="header-section-number">2</span> Costs of adaptations</a></li>
  <li><a href="#sec-waste-ash" id="toc-sec-waste-ash" class="nav-link" data-scroll-target="#sec-waste-ash"><span class="header-section-number">3</span> Waste sorting &amp; ash management</a></li>
  <li><a href="#sec-performance" id="toc-sec-performance" class="nav-link" data-scroll-target="#sec-performance"><span class="header-section-number">4</span> Incinerator Performance Improvements</a></li>
  <li><a href="#sec-air-quality" id="toc-sec-air-quality" class="nav-link" data-scroll-target="#sec-air-quality"><span class="header-section-number">5</span> Air Quality Improvements &amp; Measurements</a></li>
  <li><a href="#sec-impact" id="toc-sec-impact" class="nav-link" data-scroll-target="#sec-impact"><span class="header-section-number">6</span> Health &amp; Environmental Impact</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Adaptations to incinerators</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>The objectives of this work were twofold: assess the environmental and operational impact of the incinerators—especially their effect on local air quality—and implement targeted improvements to the design and functionality. This document outlines the specific adaptations introduced to two incinerators–one located at the Billy Riordan Memorial Clinic and one at the Sustainable Cape Maclear waste deposit site–and presents the measurable results the changes had on emissions and overall system efficiency.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/photo/incinerator1.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Figure 1. Finished, improved version of the incinerator at Billy Riordan Memorial Clinic in Cape Maclear, Malawi.</figcaption>
</figure>
</div>
<section id="sec-tech-adapt" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Summary of Main Technical Adaptations</h1>
<p>Based on the initial assessment of two incinerators, which construction is detailed <a href="https://global-health-engineering.github.io/incinerator-design-cape-maclear/">here</a>, several key issues were identified after one year of operation. The issues limited the performance and posed environmental and health risks to the operators. To address them, a series of technical adaptations aimed at improving combustion efficiency, structural durability, and user safety are proposed:</p>
<ul>
<li><strong>Structural reinforcement</strong>. Cracks and weak points in the combustion chambers were repaired and re-cemented. Several damaged bricks were replaced, improving heat retention and the structural longevity of the system.</li>
<li><strong>Chimney enlargement and extension</strong>. The original chimneys (75 mm diameter, 3 m height) restricted airflow and caused excessive smoke buildup. They were replaced with wider and taller chimneys (160 mm diameter, 4 m height), improving draft and allowing for more complete combustion (decreasing particulate matter).</li>
<li><strong>Removal of cyclone separator</strong>. The initial incinerator’s construction at Sustainable Cape Maclear incorporated a cyclone separator downstream the second combustion chamber. Unfortunately, one year of operation was enough to clog it completely, failing to capture particulate matter and, more importantly, causing the smoke to evacuate though the separator and incinerator’s cracks, but not the chimney. The separator was removed to reduce flow resistance in the exhaust pathway and improve airflow.</li>
<li><strong>Air vent installation</strong>. Additional adjustable air vents were added to the secondary combustion chambers to optimize oxygen intake. This facilitated ignition, enhanced flame stability, and improved the overall burning process.</li>
<li><strong>Rotating chimney cap</strong>. A chimney cap was added to both incinerators to direct the smoke upwards, promoting dispersion into the atmosphere and preventing it from settling at ground level. This directly addressed complaints from nearby residents about smoke stains and poor air quality.</li>
<li><strong>Ergonomic loading hatch</strong>. The steel handle on the waste loading door was repositioned to the correct side, improving ergonomics and safety during use.</li>
<li><strong>Modified waste loading drum</strong>. A halved metal drum with handlebars was introduced as a safe and reusable alternative to plastic bags for waste loading. This solution reduced operational costs and allowed for safe mid-combustion waste insertion.</li>
<li><strong>Safety fence at the clinic</strong>. A chicken wire fence was installed around the clinic’s incinerator to restrict access for third parties, a simple but important addition for the planned opening of a maternity ward nearby.</li>
</ul>
<p>These adaptations were designed not only to bring the incinerators closer to the performance standards of those, specified in the documentation of the <a href="https://mw-incinerator.info/en/303_Mark_8a.html">original De Montfort Mark 8A model</a>, but also to ensure practical usability, safety, and sustainability in the specific context of Cape Maclear.</p>
</section>
<section id="sec-costs" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Costs of adaptations</h1>
<p>To ensure consistency across reporting, all the cost calculations were converted from MWK to USD with an exchange rate of 2,000 MWK/USD.</p>
<div id="tbl-1" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Costs of fixing the existing incinerators.
</figcaption>
<div aria-describedby="tbl-1-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 21%">
<col style="width: 41%">
<col style="width: 18%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;"><strong>Category</strong></th>
<th style="text-align: left;"><strong>Details</strong></th>
<th><strong>Price (MWK)</strong></th>
<th><strong>Price (USD)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Cement</td>
<td style="text-align: left;">Fixing cracks</td>
<td>137,500</td>
<td>68.75</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bricks</td>
<td style="text-align: left;">Replacing cracked bricks</td>
<td>36,000</td>
<td>18.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Sand</td>
<td style="text-align: left;">To mix with cement</td>
<td>18,000</td>
<td>9.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Bolts &amp; nuts</td>
<td style="text-align: left;">M10</td>
<td>8,000</td>
<td>4.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Timber wire</td>
<td style="text-align: left;">-</td>
<td>18,000</td>
<td>9.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Labor</td>
<td style="text-align: left;">2 days of work (builder and helper)</td>
<td>34,000</td>
<td>17.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;">Chimneys</td>
<td style="text-align: left;">8 meters in total, 160 mm diameter</td>
<td>650,000</td>
<td>325.00</td>
</tr>
<tr class="even">
<td style="text-align: left;">Welding</td>
<td style="text-align: left;">Chimneys and air vents</td>
<td>100,000</td>
<td>50.00</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>TOTAL</strong></td>
<td style="text-align: left;">for two incinerators</td>
<td><strong>1,001,500</strong></td>
<td><strong>500.75</strong></td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Total per incinerator</strong></td>
<td style="text-align: left;">-</td>
<td><strong>500,750</strong></td>
<td><strong>250.38</strong></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="sec-waste-ash" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Waste sorting &amp; ash management</h1>
<p>To reduce emissions and improve combustion efficiency by incinerating only the desired material, a basic <a href="https://global-health-engineering.github.io/incinerate-with-hx/wst.html">waste sorting system</a> was introduced. Additionally, an ash pit was built at the waste deposit site for safer ash disposal, and a simple chicken-wire filter was constructed to remove the non-ash residues before storage.</p>
</section>
<section id="sec-performance" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Incinerator Performance Improvements</h1>
<p>The modifications made to both incinerators led to clear and measurable improvements in combustion efficiency and structural performance:</p>
<ol type="1">
<li><strong>Higher Combustion Temperatures</strong>. After the interventions, the maximum combustion temperatures increased from 663°C to 846°C at the Billy Riordan Memorial Clinic and from 372°C to 907°C at Sustainable Cape Maclear. These temperature gains indicate more complete and stable combustion, theoretically decreasing the concentration of dioxins.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/photo/incinerator2.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Figure 2. Combustion temperature in the primary combustion chamber, calculated as a mean of three measurement points for three stages. Stage 1 indicates the combustion temperature before the adaptations were introduced, while stage 3 data shows mean combustion temperature after all improvements described above.</figcaption>
</figure>
</div>
<ol start="2" type="1">
<li><p><strong>Reduced Waste-to-Ash ratio (W2A)</strong>. The amount of unburnt solid waste is represented by the Waste-to-Ash ratio. After adaptations to the incinerators, W2A dropped considerably, reflecting better fuel utilization. At the clinic W2A dropped from 22.1% to 10.2% and at waste deposit, from 39.4% to 17.1%.</p></li>
<li><p><strong>Improved airflow and structural integrity</strong>. Larger chimney and added air vents led to increased airflow and easier incinerator’s ignition. Repaired cement and brickwork improved heat retention, while the new chimney cap helped reduce localized smoke buildup. Together, these improvements brought the systems closer to the intended De Montfort Mark 8A incinerator performance standard while ensuring more consistent and cleaner operation in the field.</p></li>
</ol>
</section>
<section id="sec-air-quality" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Air Quality Improvements &amp; Measurements</h1>
<p>A central goal of this project was to reduce harmful emissions from incineration — particularly the fine particulate matter (PM), which poses significant health risks when inhaled. Throughout the improvement process, the concentrations of PM1.0, PM2.5, and PM10 in the vicinity of two incinerators were monitored with a particulate matter monitor. The results demonstrate a significant decrease in airborne pollutants after all modifications were introduced.</p>
<div id="tbl-pm-scm" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pm-scm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: Particulate matter measurements at Sustainable Cape Maclear.
</figcaption>
<div aria-describedby="tbl-pm-scm-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Particle size</th>
<th style="text-align: left;">Concentration before improvements <span class="math inline">\({\rm [\mu g/m^3]}\)</span></th>
<th style="text-align: left;">Concentration after improvements <span class="math inline">\({\rm [\mu g/m^3]}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PM1.0</td>
<td style="text-align: left;">58.13</td>
<td style="text-align: left;">8.31</td>
</tr>
<tr class="even">
<td style="text-align: left;">PM2.5</td>
<td style="text-align: left;">66.13</td>
<td style="text-align: left;">10.23</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PM10</td>
<td style="text-align: left;">77.63</td>
<td style="text-align: left;">4.65</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/photo/incinerator3.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Figure 3. Extrapolated Particulate Matter emissions for the Sustainable Cape Maclear initial incinerator (Stage 1), during improvements (Stage 2), and after all adaptations (Stage 3). Notably, the final version of the incinerator would require burning waste for 16 hours to exceed the WHO moderate limit for PM1.0 emissions (impossible value due to the ash tray capacity).</figcaption>
</figure>
</div>
<div id="tbl-pm-brmc" class="quarto-float anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-pm-brmc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;3: Particulate matter measurements at Billy Riordan Memorial Clinic.
</figcaption>
<div aria-describedby="tbl-pm-brmc-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Particle size</th>
<th style="text-align: left;">Concentration before improvements <span class="math inline">\({\rm [\mu g/m^3]}\)</span></th>
<th style="text-align: left;">Concentration after improvements <span class="math inline">\({\rm [\mu g/m^3]}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PM1.0</td>
<td style="text-align: left;">40.12</td>
<td style="text-align: left;">3.07</td>
</tr>
<tr class="even">
<td style="text-align: left;">PM2.5</td>
<td style="text-align: left;">48.34</td>
<td style="text-align: left;">3.08</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PM10</td>
<td style="text-align: left;">73.88</td>
<td style="text-align: left;">3.09</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/photo/incinerator4.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Figure 4. Extrapolated Particulate Matter emissions for the Billy Riordan Clinic initial incinerator (Stage 1&amp;2), and after all adaptations (Stage 3). Notably, the final version of the incinerator would require burning waste for 6 hours to exceed the WHO moderate limit for PM2.5 emissions).</figcaption>
</figure>
</div>
<p>After the improvements to the incinerators, all PM values fell below the WHO’s recommended 24-hour exposure thresholds, which classify concentrations above 35 µg/m³ for PM1.0 and PM2.5 and above 75 µg/m³ for PM10, as dangerous. In contrast, the initial incinerators emitted as much particulate matter as open burning piles. The final version of the incinerators now emit less particulate matter on average, than it was measured in the air of Cape Maclear.</p>
<p>These outcomes validate the technical interventions and demonstrate that small-scale incineration, when properly optimized, can offer a safe and sustainable alternative to uncontrolled waste burning.</p>
</section>
<section id="sec-impact" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Health &amp; Environmental Impact</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/photo/incinerator5.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>Figure 5. Incinerator after fixes and improvements at Sustainable Cape Maclear.</figcaption>
</figure>
</div>
<p>The upgrades to both incinerators had a noticeable positive effect on the health and safety of workers, clinic staff, and nearby residents.</p>
<p>Before improvements, the incinerators produced thick, dark smoke due to incomplete combustion and poor airflow. Workers frequently reported symptoms like coughing, eye irritation, and shortness of breath — especially at the waste deposit site, where a clogged chimney forced emissions through the cyclone separator at ground level.</p>
<p>After modifications, these health issues were drastically reduced. The workers can load waste without needing masks or eye protection the clinic staff and patients no longer reported indoor smoke or window staining. Finally, the risk of environmental contamination from open ash deposits was mitigated with the introduction of ash pits and better waste sorting.</p>
<p>In the wider context, the cleaner incinerators now contribute to overall village air quality improvement, especially when compared to the severe pollution generated by open waste burning. The ability to reduce airborne PM below background levels shows that incineration, when well-designed, can serve not only as a safe disposal method but also as a public health intervention.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This project was supported by the <a href="https://ghe.ethz.ch">Global Health Engineering Group at ETH Zurich</a></p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:ghe@mavt.ethz.ch?subject=Incinerator design">
      <i class="bi bi-envelope-at" role="img" aria-label="Email">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Global-Health-Engineering/incinerate-with-hx">
      <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://matrix.to/#/#ghe-open:staffchat.ethz.ch">
      <i class="bi bi-chat-left-dots" role="img" aria-label="Matrix">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>